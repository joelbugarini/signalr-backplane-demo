<div class="chat-container">
  <h1>SignalR Chat Demo</h1>
  
  <div class="connection-status">
    Status: <span [class]="isConnected ? 'connected' : 'disconnected'">
      {{ isConnected ? 'Connected' : 'Disconnected' }}
    </span>
    <br>
    <small>Connected to: {{ serverUrl }}</small>
  </div>

  <div class="server-selector">
    <p><em>Simulate connecting to different servers (load balancing):</em></p>
    <button (click)="switchServer('http://localhost:5001')" 
            [class.active]="serverUrl === 'http://localhost:5001'">
      Simulate Server 1 (Port 5001)
    </button>
    <button (click)="switchServer('http://localhost:5002')" 
            [class.active]="serverUrl === 'http://localhost:5002'">
      Simulate Server 2 (Port 5002)
    </button>
  </div>

  <div class="input-section">
    <input [(ngModel)]="user" placeholder="Your name" class="user-input">
    <input [(ngModel)]="message" placeholder="Type your message..." 
           (keyup.enter)="sendMessage()" class="message-input">
    <button (click)="sendMessage()" [disabled]="!isConnected || !user || !message">
      Send
    </button>
  </div>

  <div class="messages">
    <div *ngFor="let msg of messages" class="message">
      {{ msg }}
    </div>
  </div>
</div>


