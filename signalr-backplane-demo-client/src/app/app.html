<div class="chat-container">
  <h1>SignalR Backplane Demo</h1>
  
  <div class="connection-status">
    Status: <span [class]="isConnected ? 'connected' : 'disconnected'">
      {{ isConnected ? 'Connected' : 'Disconnected' }}
    </span>
    <br>
    <small>Connected to: {{ serverUrl }}</small>
  </div>

  <div class="server-selector">
    <p><em>Backplane Demo: Switch between servers to see messages flow through Redis</em></p>
    <button (click)="switchServer(getServerUrl(1))" 
            [class.active]="serverUrl === getServerUrl(1)">
      Server 1
    </button>
    <button (click)="switchServer(getServerUrl(2))" 
            [class.active]="serverUrl === getServerUrl(2)">
      Server 2
    </button>
  </div>

  <div class="input-section">
    <input [(ngModel)]="user" placeholder="Your name" class="user-input">
    <input [(ngModel)]="message" placeholder="Type your message..." 
           (keyup.enter)="sendMessage()" class="message-input">
    <button (click)="sendMessage()" [disabled]="!isConnected || !user || !message">
      Send
    </button>
  </div>

  <div class="messages">
    <div *ngFor="let msg of messages" class="message">
      {{ msg }}
    </div>
  </div>
</div>


